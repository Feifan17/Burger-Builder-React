(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,n){e.exports={BreadBottom:"BurgerIngredient_BreadBottom__2US69",BreadTop:"BurgerIngredient_BreadTop__3Y4-R",Seeds1:"BurgerIngredient_Seeds1__J6vUJ",Seeds2:"BurgerIngredient_Seeds2__2Ylex",Meat:"BurgerIngredient_Meat__3flwI",Cheese:"BurgerIngredient_Cheese__3rOTJ",Salad:"BurgerIngredient_Salad__KLnhy",Bacon:"BurgerIngredient_Bacon__1KK6n"}},,,function(e,t,n){e.exports={SiderDrawer:"SiderDrawer_SiderDrawer__1xqPV",Open:"SiderDrawer_Open__12Hyi",Close:"SiderDrawer_Close__Mcv7i"}},function(e,t,n){e.exports={BuildControl:"BuildControl_BuildControl__O8649",Label:"BuildControl_Label__TQkTk",Less:"BuildControl_Less__3Ttg8",More:"BuildControl_More__1MY7B"}},function(e,t,n){e.exports={Input:"Input_Input__3r5Ke",Label:"Input_Label__1qyHr",InputElement:"Input_InputElement__2m88K",Invalid:"Input_Invalid__16Mis"}},,,,,,function(e,t,n){e.exports={ToolBar:"ToolBar_ToolBar__1mqkj",DesktopOnly:"ToolBar_DesktopOnly__1Xdb5"}},function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__1Hb5v",active:"NavigationItem_active__39N3a"}},,,function(e,t,n){e.exports={BuildControls:"BuildControls_BuildControls__1YmbS",OrderButton:"BuildControls_OrderButton___M-Du",enable:"BuildControls_enable__9xLsD"}},function(e,t,n){e.exports={Button:"Button_Button__3gFiX",Success:"Button_Success__2Rka1",Danger:"Button_Danger__2ogZq"}},function(e,t,n){e.exports={Order:"Order_Order__3kYZJ",OrderInfo:"Order_OrderInfo__2a3m0"}},,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/burger-logo.b8503d26.png"},function(e,t,n){e.exports={Logo:"Logo_Logo__3ME4O"}},function(e,t,n){e.exports={NavigationItems:"NavigationItems_NavigationItems__1x0ow"}},function(e,t,n){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__LHVqk"}},function(e,t,n){e.exports={Content:"Layout_Content__2WLOk"}},function(e,t,n){e.exports={BackDrop:"BackDrop_BackDrop__2O2aY"}},function(e,t,n){e.exports={Burger:"Burger_Burger__10T8F"}},function(e,t,n){e.exports={Modal:"Modal_Modal__1-5dN"}},function(e,t,n){e.exports={loader:"Spinner_loader__fTuX5",load6:"Spinner_load6__1_74m",round:"Spinner_round__3G_CY"}},function(e,t,n){e.exports={CheckoutSummary:"CheckoutSummary_CheckoutSummary__3b4mW"}},function(e,t,n){e.exports={ContactData:"ContactData_ContactData__20AK_",Input:"ContactData_Input__2fK5-"}},function(e,t,n){e.exports={Auth:"Auth_Auth__1Zul_"}},function(e,t,n){e.exports=n(87)},,,,,,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(23),i=n.n(o),c=n(15),l=n(8),u=n(46),s=n(16),d=(n(68),n(3)),p=n(4),m=n(6),h=n(5),g=n(7),f=n(25),v=n.n(f),b=v.a.create({baseURL:"https://burgerbuilder-5437d.firebaseio.com"}),E=n(1),_=function(e,t){return{type:"AUTH_SUCCESS",idToken:e,userId:t}},O=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationTime"),localStorage.removeItem("userId"),{type:"AUTH_LOGOUT"}},I=function(e){return function(t){setTimeout((function(){t(O())}),1e3*e)}},y=function(e){return{type:"SET_AUTH_REDIRECT_PATH",path:e}},C=n(28),S=n.n(C),k=n(47),j=n.n(k),T=n(48),B=n.n(T);var D=function(e){return a.a.createElement("div",{className:B.a.Logo,style:{height:e.height}},a.a.createElement("img",{src:j.a,alt:"MyBurger"}))},N=n(49),w=n.n(N),A=n(29),R=n.n(A);var H=function(e){return a.a.createElement("li",{className:R.a.NavigationItem},a.a.createElement(c.b,{exact:!0,to:e.link,activeClassName:R.a.active},e.children))};var x=function(e){return a.a.createElement("ul",{className:w.a.NavigationItems},a.a.createElement(H,{link:"/"},"Burger Builder"),e.isAuthenticated?a.a.createElement(H,{link:"/orders"},"Orders"):null,e.isAuthenticated?a.a.createElement(H,{link:"/logout"},"Logout"):a.a.createElement(H,{link:"/auth"},"Authenticate"))},L=n(50),P=n.n(L);var U=function(e){return a.a.createElement("div",{className:P.a.DrawerToggle,onClick:e.clicked},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))};var F=function(e){return a.a.createElement("header",{className:S.a.ToolBar},a.a.createElement(U,{clicked:e.sideDrawerToggleClicked}),a.a.createElement(D,{height:"80%"}),a.a.createElement("nav",{className:S.a.DesktopOnly},a.a.createElement(x,{isAuthenticated:e.isAuthenticated})))},M=n(51),q=n.n(M),G=n(20),V=n.n(G),Y=n(52),K=n.n(Y);var W=function(e){return e.show?a.a.createElement("div",{className:K.a.BackDrop,onClick:e.clicked}):null};var X=function(e){var t=[V.a.SiderDrawer,V.a.Close];return e.open&&(t=[V.a.SiderDrawer,V.a.Open]),a.a.createElement(r.Fragment,null,a.a.createElement(W,{show:e.open,clicked:e.closed}),a.a.createElement("div",{className:t.join(" ")},a.a.createElement(D,{height:"11%"}),a.a.createElement("nav",null,a.a.createElement(x,null))))},J=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).sideDrawerClosedHandler=function(){r.setState({showSideDrawer:!1})},r.sideDrawerToggleHandler=function(){r.setState((function(e){return{showSideDrawer:!e.showSideDrawer}}))},r.state={showSideDrawer:!1},r}return Object(p.a)(n,[{key:"render",value:function(){return a.a.createElement(r.Fragment,null,a.a.createElement(F,{isAuthenticated:this.props.isAuthenticated,sideDrawerToggleClicked:this.sideDrawerToggleHandler}),a.a.createElement(X,{open:this.state.showSideDrawer,closed:this.sideDrawerClosedHandler}),a.a.createElement("main",{className:q.a.Content},this.props.children))}}]),n}(r.Component),z=Object(l.b)((function(e){return{isAuthenticated:null!==e.auth.token}}))(J),Z=n(17),Q=n.n(Z);var $=function(e){var t=null;switch(e.type){case"bread-bottom":t=a.a.createElement("div",{className:Q.a.BreadBottom});break;case"bread-top":t=a.a.createElement("div",{className:Q.a.BreadTop});break;case"meat":t=a.a.createElement("div",{className:Q.a.Meat});break;case"cheese":t=a.a.createElement("div",{className:Q.a.Cheese});break;case"salad":t=a.a.createElement("div",{className:Q.a.Salad});break;case"bacon":t=a.a.createElement("div",{className:Q.a.Bacon});break;default:t=null}return t},ee=n(53),te=n.n(ee);var ne=function(e){for(var t=[],n=0,r=Object.keys(e.ingredients);n<r.length;n++)for(var o=r[n],i=e.ingredients[o],c=0;c<i;c++)t.push(a.a.createElement($,{key:o+c,type:o}));return 0===t.length&&(t=a.a.createElement("p",null,"Please start adding ingredients.")),a.a.createElement("div",{className:te.a.Burger},a.a.createElement($,{type:"bread-top"}),t,a.a.createElement($,{type:"bread-bottom"}))},re=n(32),ae=n.n(re),oe=n(21),ie=n.n(oe);var ce=function(e){return a.a.createElement("div",{className:ie.a.BuildControl},a.a.createElement("div",{className:ie.a.Label},e.label),a.a.createElement("button",{className:ie.a.Less,onClick:e.deleteIngredient,disabled:e.disabled},"Less"),a.a.createElement("button",{className:ie.a.More,onClick:e.addIngredient},"More"))},le=[{label:"Salad",type:"salad"},{label:"Bacon",type:"bacon"},{label:"Cheese",type:"cheese"},{label:"Meat",type:"meat"}];var ue=function(e){var t=this;return a.a.createElement("div",{className:ae.a.BuildControls},a.a.createElement("h3",null,"Price: $",e.price),le.map((function(n){return a.a.createElement(ce,{key:n.label,label:n.label,addIngredient:e.addIngredient.bind(t,n.type),deleteIngredient:e.deleteIngredient.bind(t,n.type),disabled:e.disabledBtnInfo[n.type]})})),a.a.createElement("button",{className:ae.a.OrderButton,disabled:!e.orderState,onClick:e.order},e.isAuthenticated?"Order Now":"Sign Up to Order"))},se=n(54),de=n.n(se),pe=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return a.a.createElement(r.Fragment,null,a.a.createElement(W,{show:this.props.show,clicked:this.props.modalClosed}),a.a.createElement("div",{className:de.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),n}(r.Component),me=n(33),he=n.n(me);var ge=function(e){return a.a.createElement("button",{disabled:e.disabled,className:[he.a.Button,he.a[e.btnType]].join(" "),onClick:e.clicked},e.children)},fe=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=Object.keys(this.props.ingredients).map((function(t){return a.a.createElement("li",{key:t},a.a.createElement("span",{style:{textTransform:"capitalize"}},t),":"," ",e.props.ingredients[t]," ")}));return a.a.createElement(r.Fragment,null,a.a.createElement("h3",null,"Order Summary"),a.a.createElement("ul",null,t),a.a.createElement("h4",null,"Total Price: $",this.props.price),a.a.createElement("p",null,"Continue to checkout?"),a.a.createElement(ge,{btnType:"Danger",clicked:this.props.cancelOrder},"Cancel"),a.a.createElement(ge,{btnType:"Success",clicked:this.props.continueOrder},"Continue"))}}]),n}(r.Component),ve=n(55),be=n.n(ve);var Ee=function(e){return a.a.createElement("div",{className:be.a.loader},"Loading...")},_e=function(e,t){return function(n){Object(m.a)(i,n);var o=Object(h.a)(i);function i(e){var t;return Object(d.a)(this,i),(t=o.call(this,e)).errorConfirmedHandler=function(){t.setState({error:null})},t.state={error:null},t}return Object(p.a)(i,[{key:"componentWillMount",value:function(){var e=this;this.reqInterceptor=t.interceptors.request.use((function(t){return e.setState({error:null}),t})),this.resInterceptor=t.interceptors.response.use((function(e){return e}),(function(t){e.setState({error:t})}))}},{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.reqinterceptor),t.interceptors.response.eject(this.resinterceptor)}},{key:"render",value:function(){return a.a.createElement(r.Fragment,null,a.a.createElement(pe,{show:this.state.error,modalClosed:this.errorConfirmedHandler},this.state.error?this.state.error.message:null),a.a.createElement(e,this.props))}}]),i}(r.Component)},Oe=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).updateOrderState=function(){return r.props.totalPrice>0},r.showModalHandler=function(){r.props.isAuthenticated?r.setState({showModal:!0}):(r.props.onSetAuthRedirectPath("/checkout"),r.props.history.push("/auth"))},r.closeModalHandler=function(){r.setState({showModal:!1})},r.cancelOrderHandler=function(){r.setState({showModal:!1})},r.continueOrderHandler=function(){r.props.onInitPurchase(),r.props.history.push("/checkout")},r.state={showModal:!1},r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.onInitIngredient()}},{key:"render",value:function(){var e=Object(E.a)({},this.props.ingredients);for(var t in e)e[t]=e[t]<=0;var n=null,o=this.props.error?a.a.createElement("p",null,"Ingredients can't be loaded"):a.a.createElement(Ee,null);return this.props.ingredients&&(o=a.a.createElement(r.Fragment,null,a.a.createElement(ne,{ingredients:this.props.ingredients}),a.a.createElement(ue,{addIngredient:this.props.onIngredientAdded,deleteIngredient:this.props.onIngredientRemoved,disabledBtnInfo:e,price:this.props.totalPrice,orderState:this.updateOrderState(),order:this.showModalHandler,isAuthenticated:this.props.isAuthenticated})),n=a.a.createElement(fe,{cancelOrder:this.cancelOrderHandler,continueOrder:this.continueOrderHandler,ingredients:this.props.ingredients,price:this.props.totalPrice})),a.a.createElement(r.Fragment,null,a.a.createElement(pe,{show:this.state.showModal,modalClosed:this.closeModalHandler},n),o)}}]),n}(r.Component),Ie=Object(l.b)((function(e){return{ingredients:e.burgerBuilder.ingredients,totalPrice:e.burgerBuilder.totalPrice,error:e.burgerBuilder.error,isAuthenticated:null!==e.auth.token}}),(function(e){return{onIngredientAdded:function(t){return e(function(e){return{type:"ADD_INGREDIENT",ingredientName:e}}(t))},onIngredientRemoved:function(t){return e(function(e){return{type:"REMOVE_INGREDIENT",ingredientName:e}}(t))},onInitIngredient:function(){return e((function(e){b.get("/ingredients.json").then((function(t){e({type:"SET_INGREDIENTS",ingredients:t.data})})).catch((function(t){e({type:"FETCH_INGREDIENTS_FAILED"})}))}))},onInitPurchase:function(){return e({type:"PURCHASE_INIT"})},onSetAuthRedirectPath:function(t){return e(y(t))}}}))(_e(Oe,b)),ye=n(56),Ce=n.n(ye);var Se=function(e){return a.a.createElement("div",{className:Ce.a.CheckoutSummary},a.a.createElement("h1",null,"Here is your burger: "),a.a.createElement("div",{style:{width:"100%",margin:"auto"}},a.a.createElement(ne,{ingredients:e.ingredients})),a.a.createElement(ge,{btnType:"Danger",clicked:e.cancel},"CANCEL"),a.a.createElement(ge,{btnType:"Success",clicked:e.continue},"CONTINUE"))},ke=n(22),je=n.n(ke);var Te=function(e){var t=null,n=[je.a.InputElement];switch(e.invalid&&e.shouldValidate&&e.touched&&n.push(je.a.Invalid),e.elementType){case"input":t=a.a.createElement("input",Object.assign({value:e.value},e.elementConfig,{className:n.join(" "),onChange:e.changed}));break;case"textarea":t=a.a.createElement("textarea",Object.assign({value:e.value},e.elementConfig,{className:n.join(" "),onChange:e.changed}));break;case"select":t=a.a.createElement("select",{value:e.value,className:n.join(" "),onChange:e.changed},e.elementConfig.options.map((function(e){return a.a.createElement("option",{key:e.value,value:e.value},e.displayValue)})));break;default:t=a.a.createElement("input",Object.assign({value:e.value},e.elementConfig,{className:n.join(" ")}))}return a.a.createElement("div",{className:je.a.Input},a.a.createElement("label",{className:je.a.Label},e.label),t)},Be=n(57),De=n.n(Be),Ne=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).orderHandler=function(e){e.preventDefault();var t={};for(var n in r.state.orderForm)t[n]=r.state.orderForm[n].value;var a={ingredients:r.props.ingredients,price:r.props.totalPrice,orderData:t,userId:r.props.userId};r.props.onOrderBurger(a,r.props.token)},r.inputChangeHandler=function(e,t){var n=Object(E.a)({},r.state.orderForm),a=Object(E.a)({},n[t]);a.value=e.target.value,a.valid=r.checkInputValidity(a.value,a.validation),a.touched=!0,n[t]=a;var o=!0;for(var i in n)o=n[i].valid&&o;r.setState({orderForm:n,formIsValid:o})},r.state={orderForm:{name:{elementType:"input",elementConfig:{type:"text",placeholder:"Your Name"},value:"",validation:{required:!0},valid:!1,touched:!1},street:{elementType:"input",elementConfig:{type:"text",placeholder:"Street"},value:"",validation:{required:!0},valid:!1,touched:!1},zipCode:{elementType:"input",elementConfig:{type:"text",placeholder:"ZIP Code"},value:"",validation:{required:!0,minLength:5,maxLength:5},valid:!1,touched:!1},country:{elementType:"input",elementConfig:{type:"text",placeholder:"Country"},value:"",validation:{required:!0},valid:!1,touched:!1},email:{elementType:"input",elementConfig:{type:"email",placeholder:"Your Email"},value:"",validation:{required:!0},valid:!1,touched:!1},deliveryMethod:{elementType:"select",elementConfig:{options:[{value:"fastest",displayValue:"Fastest"},{value:"cheapest",displayValue:"Cheapest"}]},value:"fastest",validation:{},valid:!0}},formIsValid:!1},r}return Object(p.a)(n,[{key:"checkInputValidity",value:function(e,t){var n=!0;return t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLength&&(n=e.length<=t.maxLength&&n),n}},{key:"render",value:function(){var e=this,t=[];for(var n in this.state.orderForm)t.push({id:n,config:this.state.orderForm[n]});var r=a.a.createElement("form",{onSubmit:this.orderHandler},t.map((function(t){return a.a.createElement(Te,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,shouldValidate:t.config.validation,touched:t.config.touched,changed:function(n){return e.inputChangeHandler(n,t.id)}})})),a.a.createElement(ge,{btnType:"Success",disabled:!this.state.formIsValid},"ORDER"));return this.props.loading&&(r=a.a.createElement(Ee,null)),a.a.createElement("div",{className:De.a.ContactData},a.a.createElement("h4",null,"Enter your Contact Data"),r)}}]),n}(r.Component),we=Object(l.b)((function(e){return{ingredients:e.burgerBuilder.ingredients,totalPrice:e.burgerBuilder.totalPrice,loading:e.order.loading,token:e.auth.token,userId:e.auth.userId}}),(function(e){return{onOrderBurger:function(t,n){return e(function(e,t){return function(n){n({type:"PURCHASE_BURGER_START"}),b.post("/orders.json?auth="+t,e).then((function(t){n(function(e,t){return{type:"PURCHASE_BURGER_SUCCESS",orderId:e,orderData:t}}(t.data.name,e))})).catch((function(e){n({type:"PURCHASE_BURGER_FAIL",error:e})}))}}(t,n))}}}))(_e(Ne,b)),Ae=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).checkoutCancelHandler=function(){e.props.history.goBack()},e.checkoutContinueHandler=function(){e.props.history.replace("/checkout/contact-data")},e}return Object(p.a)(n,[{key:"render",value:function(){var e=a.a.createElement(g.a,{to:"/"});if(this.props.ingredients){var t=this.props.purchased?a.a.createElement(g.a,{to:"/"}):null;e=a.a.createElement("div",null,t,a.a.createElement(Se,{ingredients:this.props.ingredients,cancel:this.checkoutContinueHandler,continue:this.checkoutContinueHandler}),a.a.createElement(g.b,{path:this.props.match.path+"/contact-data",component:we}))}return e}}]),n}(r.Component),Re=Object(l.b)((function(e){return{ingredients:e.burgerBuilder.ingredients,purchased:e.order.purchased}}))(Ae),He=n(34),xe=n.n(He);var Le=function(e){var t=[];for(var n in e.ingredients)t.push({name:n,amount:e.ingredients[n]});var r=t.map((function(e){return a.a.createElement("span",{className:xe.a.OrderInfo,key:e.name},e.name," (",e.amount,")")}));return a.a.createElement("div",{className:xe.a.Order},a.a.createElement("p",null,r),a.a.createElement("p",null,"Price ",a.a.createElement("strong",null,"USD ",Number.parseFloat(e.price.toFixed(2)))))},Pe=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchOrders(this.props.token,this.props.userId)}},{key:"render",value:function(){var e=a.a.createElement(Ee,null);return this.props.loading||(e=this.props.orders.map((function(e){return a.a.createElement(Le,{key:e.id,ingredients:e.ingredients,price:e.price})}))),a.a.createElement("div",null,e)}}]),n}(r.Component),Ue=Object(l.b)((function(e){return{orders:e.order.orders,loading:e.order.loading,token:e.auth.token,userId:e.auth.userId}}),(function(e){return{onFetchOrders:function(t,n){return e(function(e,t){return function(n){n({type:"FETCH_ORDERS_INIT"});var r="?auth="+e+'&orderBy="userId"&equalTo="'.concat(t,'" ');b.get("/orders.json"+r).then((function(e){var t=[];for(var r in e.data)t.push(Object(E.a)(Object(E.a)({},e.data[r]),{},{id:r}));n({type:"FETCH_ORDERS_SUCCESS",orders:t})})).catch((function(e){n({type:"FETCH_ORDERS_FAIL",error:e})}))}}(t,n))}}}))(_e(Pe,b)),Fe=n(14),Me=n(58),qe=n.n(Me),Ge=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).inputChangeHandler=function(e,t){var n=Object(E.a)(Object(E.a)({},r.state.controls),{},Object(Fe.a)({},t,Object(E.a)(Object(E.a)({},r.state.controls[t]),{},{value:e.target.value,valid:r.checkInputValidity(e.target.value,r.state.controls[t].validation),touched:!0})));r.setState({controls:n})},r.submitHandler=function(e){e.preventDefault(),r.props.onAuth(r.state.controls.email.value,r.state.controls.password.value,r.state.isSignup)},r.switchAuthModelHandler=function(){r.setState((function(e){return{isSignup:!e.isSignup}}))},r.state={controls:{email:{elementType:"input",elementConfig:{type:"email",placeholder:"Your Email"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Your Password"},value:"",validation:{required:!0,minLength:7},valid:!1,touched:!1}},formIsValid:!1,isSignup:!0},r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.buildingBurger||"/"===this.props.authRedirectPath||this.props.onSetAuthRedirectPath()}},{key:"checkInputValidity",value:function(e,t){var n=!0;return t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLength&&(n=e.length<=t.maxLength&&n),n}},{key:"render",value:function(){var e=this,t=[];for(var n in this.state.controls)t.push({id:n,config:this.state.controls[n]});var r=a.a.createElement("form",{onSubmit:this.submitHandler},t.map((function(t){return a.a.createElement(Te,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,shouldValidate:t.config.validation,touched:t.config.touched,changed:function(n){return e.inputChangeHandler(n,t.id)}})})),a.a.createElement(ge,{btnType:"Success"},this.state.isSignup?"Sign Up":"Login"));this.props.loading&&(r=a.a.createElement(Ee,null));var o=null;this.props.error&&(o=a.a.createElement("p",null,this.props.error));var i=null;return this.props.isAuthenticated&&(i=a.a.createElement(g.a,{to:this.props.authRedirectPath})),a.a.createElement("div",{className:qe.a.Auth},i,o,r,a.a.createElement(ge,{btnType:"Danger",clicked:this.switchAuthModelHandler},"Switch to ",this.state.isSignup?"Login":"Sign Up"))}}]),n}(r.Component),Ve=Object(l.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,isAuthenticated:null!==e.auth.token,buildingBurger:e.burgerBuilder.isBuilding,authRedirectPath:e.auth.authRedirectPath}}),(function(e){return{onAuth:function(t,n,r){return e(function(e,t,n){return function(r){r({type:"AUTH_START"});var a={email:e,password:t,returnSecureToken:!0},o="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyA3EhwXG-DfYR4hqIF5D6IE_DGKtlc3jdQ";n||(o="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyA3EhwXG-DfYR4hqIF5D6IE_DGKtlc3jdQ"),v.a.post(o,a).then((function(e){var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("expirationTime",t),localStorage.setItem("userId",e.data.localId),r(_(e.data.idToken,e.data.localId)),r(I(e.data.expiresIn))})).catch((function(e){r(function(e){return{type:"AUTH_FAIL",error:e}}(e.response.data.error.message))}))}}(t,n,r))},onSetAuthRedirectPath:function(){return e(y("/"))}}}))(Ge),Ye=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.onLogout()}},{key:"render",value:function(){return a.a.createElement(g.a,{to:"/"})}}]),n}(r.Component),Ke=Object(l.b)(null,(function(e){return{onLogout:function(){return e(O())}}}))(Ye),We=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignup()}},{key:"render",value:function(){var e=a.a.createElement(g.d,null,a.a.createElement(g.b,{path:"/auth",exact:!0,component:Ve}),a.a.createElement(g.b,{path:"/",exact:!0,component:Ie}),a.a.createElement(g.a,{to:"/"}));return this.props.isAuthenticated&&(e=a.a.createElement(g.d,null,a.a.createElement(g.b,{path:"/checkout",component:Re}),a.a.createElement(g.b,{path:"/orders",exact:!0,component:Ue}),a.a.createElement(g.b,{path:"/logout",exact:!0,component:Ke}),a.a.createElement(g.b,{path:"/",exact:!0,component:Ie}),a.a.createElement(g.a,{to:"/"}))),a.a.createElement(z,null,e)}}]),n}(r.Component),Xe=Object(g.g)(Object(l.b)((function(e){return{isAuthenticated:null!==e.auth.token}}),(function(e){return{onTryAutoSignup:function(){return e((function(e){var t=localStorage.getItem("token");if(t){var n=new Date(localStorage.getItem("expirationTime"));if(n>new Date){var r=localStorage.getItem("userId");e(_(t,r)),e(I((n.getTime()-(new Date).getTime())/1e3))}else e(O())}else e(O())}))}}}))(We));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Je={ingredients:null,totalPrice:0,error:!1,isBuilding:!1},ze={salad:1,bacon:2,cheese:1.5,meat:2},Ze=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"ADD_INGREDIENT":return{totalPrice:n.totalPrice+ze[r.ingredientName],ingredients:Object(E.a)(Object(E.a)({},n.ingredients),{},(e={},Object(Fe.a)(e,r.ingredientName,n.ingredients[r.ingredientName]+1),Object(Fe.a)(e,"isBuilding",!0),e))};case"REMOVE_INGREDIENT":return{totalPrice:n.totalPrice-ze[r.ingredientName],ingredients:Object(E.a)(Object(E.a)({},n.ingredients),{},(t={},Object(Fe.a)(t,r.ingredientName,n.ingredients[r.ingredientName]-1),Object(Fe.a)(t,"isBuilding",!0),t))};case"SET_INGREDIENTS":return Object(E.a)(Object(E.a)({},n),{},{ingredients:r.ingredients,totalPrice:0,error:!1,isBuilding:!1});case"FETCH_INGREDIENTS_FAILED":return Object(E.a)(Object(E.a)({},n),{},{error:!0});default:return n}},Qe={orders:[],loading:!1,purchased:!1},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ORDERS_INIT":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"FETCH_ORDERS_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{orders:t.orders,loading:!1});case"FETCH_ORDERS_FAIL":return Object(E.a)(Object(E.a)({},e),{},{loading:!1});case"PURCHASE_INIT":return Object(E.a)(Object(E.a)({},e),{},{purchased:!1});case"PURCHASE_BURGER_SUCCESS":var n=Object(E.a)(Object(E.a)({},t.orderData),{},{id:t.orderId});return Object(E.a)(Object(E.a)({},e),{},{loading:!1,purchased:!0,orders:e.orders.concat(n)});case"PURCHASE_BURGER_START":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"PURCHASE_BURGER_FAIL":return Object(E.a)(Object(E.a)({},e),{},{loading:!1});default:return e}},et={token:null,userId:null,error:null,loading:!1,authRedirectPath:"/"},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"AUTH_SUCCESS":return{token:t.idToken,userId:t.userId,error:null,loading:!1};case"AUTH_FAIL":return Object(E.a)(Object(E.a)({},e),{},{error:t.error,loading:!1});case"AUTH_LOGOUT":return Object(E.a)(Object(E.a)({},e),{},{token:null,userId:null});case"SET_AUTH_REDIRECT_PATH":return Object(E.a)(Object(E.a)({},e),{},{authRedirectPath:t.path});default:return e}},nt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,rt=Object(s.c)({burgerBuilder:Ze,order:$e,auth:tt}),at=Object(s.e)(rt,nt(Object(s.a)(u.a))),ot=a.a.createElement(l.a,{store:at},a.a.createElement(c.a,null,a.a.createElement(Xe,null)));i.a.render(ot,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[59,1,2]]]);
//# sourceMappingURL=main.a50f43ba.chunk.js.map